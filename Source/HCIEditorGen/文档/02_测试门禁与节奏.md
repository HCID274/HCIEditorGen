# HCIAbilityKit 测试门禁与节奏

> 状态：冻结（M0-V2）
> 版本：v2
> 更新时间：2026-02-13

## 1. 总体规则（强制）

- 每完成一个切片必须停下，等待用户在 UE 手测。
- 用户未明确 `Pass`，不得进入下一切片。
- 每次验证必须有记录文件，不允许口头“通过”。

## 2. 标准切片流程

1. 冻结当前切片目标（只做一件事）。
2. 完成实现并本地编译通过。
3. 提供 UE 手测步骤、预期结果、Pass/Fail 标准。
4. 用户执行 UE 手测并反馈结论。
5. 写入测试记录后，才可推进下一切片。

## 3. 测试资产留存

- 测试源数据目录：`SourceData/AbilityKits/`
- 测试记录目录：`Source/HCIEditorGen/文档/测试记录/`
- 推荐记录命名：`YYYY-MM-DD_StepX-SliceY_结果.md`

## 4. 分阶段测试重点

### Step 1：结构迁移（插件双模块）

- 回归目标：Import/Reimport 行为与现状一致。
- 必测项：可导入、可重导、失败不脏写。

### Step 2：服务抽离（Runtime + Python）

- 回归目标：Factory 仅编排，解析/校验可独立验证。
- 必测项：解析成功路径、校验失败路径、错误定位信息。

### Step 3：AI 注入（语义路由 + 审计）

- 回归目标：真实策划检索场景可复现，检索结果可解释、可审计。
- 必测项：
  - 固定场景查询 `S1/S2/S3` 命中候选资产；
  - 每条结果包含命中理由；
  - 空结果返回可执行建议；
  - 查询过程写入审计日志。

### Step 4：UI 升级（交互式审阅）

- 回归目标：用户可逐项审阅并局部采纳。
- 必测项：旧值/新值对比、局部应用、回滚与重试。

## 5. 固定回归最小集

- `R1` 可导入：`*.hciabilitykit` 成功生成资产。
- `R2` 可重导：修改源文件后右键 `Reimport` 生效。
- `R3` 不脏写：失败导入/重导不会污染已有资产。
- `R4` 可定位：日志含文件、字段、原因、建议。
- `R5` 可解释：检索结果含命中依据，非黑盒输出。

## 6. 单次测试记录模板（必填）

- 切片编号：
- 目标功能：
- 影响范围：
- 前置条件：
- 操作步骤：
- 预期结果：
- 实际结果：
- 结论（Pass/Fail）：
- 证据路径（日志/截图/录屏）：
- 备注/遗留问题：
