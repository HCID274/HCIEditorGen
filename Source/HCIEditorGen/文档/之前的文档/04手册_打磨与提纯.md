# UE实践手册：打磨与提纯（工具岗版本 / HCIEditorGen 优先）

目标：把“能跑的工具”提纯成“像商业项目的工具链作品”，用于 **工具向客户端 / UE 工具开发 / 管线 TA** 岗位投递与面试深挖。

---

## 0. 投递就绪优先级（先卡死 2026-03-02）

在 **2026-03-02** 前，这份手册只有一个目的：把作品推到“**简历可投、视频可看、可深挖、可复现**”。

投递就绪（P0）必须齐：
1. **闭环证据链**：SourceData 改动 → Import/Reimport → Derived 资产更新 → Runtime 生效（必须可录屏、可复现）。
2. **失败用例证据链**：脏数据/缺字段/断网/超时（任选其一）→ 清晰报错 + fallback（不脏写、不假写）。
3. **批处理证据链（最小）**：至少 50+ 条批导入/重导入能跑通，输出统计 + 失败清单（可定位到条目）。
4. **README/视频/素材目录定型**：陌生人 10 分钟跑起来；失败用例也能复现；日志能看懂。
5. **dogfooding 证据链**：`HCIDuel` 里有一个“抽样验收入口”，能证明工具产物真的被 Runtime 消费。

原则：**不新增大功能，只补齐“量产可控 + 稳定性 + 可用性 + 证据链”。**

---

## 1. 稳定性优先（先消灭最容易翻车的点）

必做清单（工具岗必问）：
1. **失败不脏写**：写临时文件再替换；导入失败不修改派生资产；保存失败可回滚或明确提示“未落盘成功”。
2. **严格校验**：Schema 校验 + 最小语义校验（缺字段/类型错误/越界/引用不存在直接失败）。
3. **错误信息可定位**：错误要能定位到“哪个文件/哪个字段/哪个条目”，而不是一条泛泛的报错。
4. **断网/超时兜底**：Provider 失败时必须 fallback（Mock），避免演示时“靠运气”。
5. **边界与幂等**：同一份 SourceData 重复导入结果一致；重导入不会生成幽灵资产/重复资产。

建议输出：
- “稳定性 Checklist”（复现步骤 + 修复结论）写进 `10_UE实践/记录.md`。

---

## 2. 性能与响应性（工具岗硬通货）

目标：让批处理“规模上来仍可用”，编辑器不长时间卡死，用户能预期发生了什么。

必做清单：
1. **进度与统计**：批处理要有进度（哪怕是简单百分比）+ 总耗时 + 成功/失败数量。
2. **失败清单**：失败要聚合输出（可复制/可保存），并能跳到资源路径（至少能打印资产路径/文件路径）。
3. **主线程边界清楚**：后台线程只做纯计算/IO；涉及 UObject/资产创建与保存的操作按 UE 规则执行（别“嘴上异步”）。
4. **避免无谓加载**：能用 AssetRegistry/路径扫描解决的，不要把全工程资产 Load 进来。

可选加分（有余力再做）：
- **可取消**：长批处理支持取消，并给出“取消后状态”的明确语义（已落盘/未落盘）。
- **差异预览（Dry-run v1）**：导入前先列出新增/修改/删除，降低量产风险。

---

## 3. 结构与可维护性（让代码“像工具团队写的”）

建议做法：
1. **模块边界**：Runtime（数据模型/读取）与 Editor（导入/面板/批处理）严格隔离，避免 Shipping 带入 Editor 逻辑。
2. **命名与目录统一**：统一前缀、SourceData/Derived 的目录规范、输出报告目录固定。
3. **最小回归用例**：至少做一套“成功用例 + 失败用例”的可复现脚本/步骤清单（保证每次改完不回归）。
4. **文档化**：README 除了“怎么跑”，还要写“约束、失败模式、如何排查”。

---

## 4. 可扩展但不蔓延（加分项只做最省成本的）

推荐的低成本加分（任选其一）：
1. **资源检查工具 v1**：命名/目录/引用合法性/循环依赖检查，输出报告。
2. **外部配置器 v1（同 Schema）**：UE 关闭也能编辑 SourceData；打开 UE 右键 Reimport 生效。
3. **DCC 小切口**：Blender/Maya/Houdini 任一做一个“命名/层级/导出规范检查或批处理脚本”，证明你懂产线两端。

明确不建议在这一阶段上手：
- 把 GAS/玩法做成“内容大作”（工具岗不看这个；dogfooding 底座够用即可）
- 复杂 UI 平台化（账号/权限/搜索/全套资产管理系统）

